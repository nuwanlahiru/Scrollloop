<!DOCTYPE html>
<!-- Set dark mode as default -->
<html lang="en" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Loop - Complete & Optimized</title>

    <!-- Fonts, Icons, Three.js, Tailwind -->
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="importmap">{ "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } }</script>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>

    <!-- Custom Styles -->
    <style>
        :root { /* Core Colors */ --color-light: #ffffff; --color-dark: #000000; --color-accent: #39ff14; --color-accent-hover: #2ce30f; /* Theme Variables */ --bg-primary: var(--color-light); --text-primary: var(--color-dark); --text-secondary: rgba(0, 0, 0, 0.7); --border-color: rgba(0, 0, 0, 0.1); --bg-glass-light: rgba(255, 255, 255, 0.5); --border-glass-light: rgba(0, 0, 0, 0.1); --bg-glass-dark: rgba(20, 20, 20, 0.5); --border-glass-dark: rgba(255, 255, 255, 0.15); /* Assign initial vars */ --bg-glass: var(--bg-glass-dark); --border-glass: var(--border-glass-dark); --header-bg: var(--bg-glass-dark); --card-bg: var(--bg-glass-dark); --modal-bg: var(--bg-glass-dark); --modal-backdrop: rgba(0, 0, 0, 0.6); }
        .dark { --bg-primary: var(--color-dark); --text-primary: var(--color-light); --text-secondary: rgba(255, 255, 255, 0.7); --border-color: rgba(255, 255, 255, 0.15); --bg-glass: var(--bg-glass-dark); --border-glass: var(--border-glass-dark); --header-bg: var(--bg-glass-dark); --card-bg: var(--bg-glass-dark); --modal-bg: var(--bg-glass-dark); --modal-backdrop: rgba(0, 0, 0, 0.6); }
        html:not(.dark) { --bg-primary: var(--color-light); --text-primary: var(--color-dark); --text-secondary: rgba(0, 0, 0, 0.7); --border-color: rgba(0, 0, 0, 0.1); --bg-glass: var(--bg-glass-light); --border-glass: var(--border-glass-light); --header-bg: var(--bg-glass-light); --card-bg: var(--bg-glass-light); --modal-bg: var(--bg-glass-light); --modal-backdrop: rgba(0, 0, 0, 0.4); }
        body { font-family: 'Open Sans', sans-serif; background-color: var(--bg-primary); color: var(--text-primary); transition: background-color 0.4s ease, color 0.4s ease; overflow-x: hidden; position: relative; background-image: linear-gradient(to bottom right, rgba(0,0,0,0.02), rgba(0,0,0,0.05)); }
        .dark body { background-image: linear-gradient(to bottom right, rgba(255,255,255,0.01), rgba(255,255,255,0.03)); }
        /* Loading Screen */
        #loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-dark); z-index: 999999; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 1; visibility: visible; transition: opacity 0.5s ease-out 0.1s, visibility 0.5s ease-out 0.1s; } #loading-screen.loaded { opacity: 0; visibility: hidden; pointer-events: none; } .loader-logo { font-family: 'Poppins', sans-serif; font-size: 2.5rem; font-weight: 700; color: var(--color-light); animation: logo-pulse 1.5s infinite ease-in-out; } .loader-logo span { color: var(--color-accent); }
        @keyframes logo-pulse { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } }
        /* Site Reveal Transition */
        #main-header, main { opacity: 0; transform: translateY(15px); transition: opacity 0.6s ease-out 0.3s, transform 0.6s ease-out 0.3s; } body.site-revealed #main-header, body.site-revealed main { opacity: 1; transform: translateY(0); }
        /* Removed Radial Overlay CSS */
        .glass-effect { background: var(--bg-glass); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid var(--border-glass); transition: background-color 0.4s ease, border-color 0.4s ease; }
        /* Other Styles (Condensed) */
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; color: var(--text-primary); transition: color 0.4s ease; } p { color: var(--text-secondary); transition: color 0.4s ease;} a { color: var(--color-accent); transition: color 0.3s ease; } a:hover { color: var(--color-accent-hover); } .contact-info-link { color: var(--text-primary); transition: color 0.4s ease; } .contact-info-link:hover { color: var(--color-accent); } .contact-info-link i { color: var(--color-accent); width: 20px; text-align: center; }
        #main-header { background: var(--header-bg); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); border-bottom: 1px solid var(--border-color); transition: background-color 0.4s ease, border-color 0.4s ease, opacity 0.6s ease-out 0.3s, transform 0.6s ease-out 0.3s; z-index: 1000; position: fixed; top: 0; left: 0; right: 0; } .nav-link { color: var(--text-primary); position: relative; padding: 4px 0; transition: color 0.4s ease; } .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0; background-color: var(--color-accent); transition: width 0.3s ease; } .nav-link:hover { color: var(--color-accent); } .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        #mobile-menu { background: var(--bg-glass); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); border-left: 1px solid var(--border-glass); transition: transform 0.3s ease-in-out, background-color 0.4s ease, border-color 0.4s ease; transform: translateX(100%); position: fixed; top:0; right:0; bottom:0; width: 60%; max-width: 280px; padding-top: 6rem; z-index: 999; height: 100vh; overflow-y: auto; will-change: transform; }
        #mobile-menu.active { transform: translateX(0); } #mobile-menu a { color: var(--text-primary); transition: color 0.4s ease;}
        .neon-button { background-color: var(--color-accent); color: var(--color-dark); font-weight: 600; padding: 14px 35px; border-radius: 8px; transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease; display: inline-block; text-decoration: none; border: none; } .neon-button:hover { background-color: var(--color-accent-hover); transform: translateY(-3px); box-shadow: 0 4px 15px rgba(57, 255, 20, 0.3); color: var(--color-dark); }
        .section-padding { padding-top: 5rem; padding-bottom: 5rem; } @media (min-width: 768px) { .section-padding { padding-top: 7rem; padding-bottom: 7rem; } } @media (min-width: 1024px) { .section-padding { padding-top: 8rem; padding-bottom: 8rem; } } .section-divider { border-bottom: 1px solid var(--border-color); transition: border-color 0.4s ease; }
        #hero { min-height: calc(100vh - 70px); display: flex; align-items: center; position: relative; padding-top: 6rem; padding-bottom: 4rem; } @media (min-width: 768px) { #hero { padding-top: 8rem; padding-bottom: 6rem;} } #hero h1 { font-weight: 800; line-height: 1.1; font-size: 2.75rem; /* text-4xl/5xl */ } @media (min-width: 640px) { #hero h1 { font-size: 3.5rem; } } @media (min-width: 1024px) { #hero h1 { font-size: 4.5rem; /* text-7xl */ } } #hero p { font-size: 1rem; line-height: 1.7; } @media (min-width: 768px) { #hero p { font-size: 1.125rem; /* text-lg */ } } @media (min-width: 1024px) { #hero p { font-size: 1.25rem; /* text-xl */ } }
        #threejs-container { width: 100%; max-width: 500px; height: 280px; margin: auto; cursor: grab; position: relative; overflow: hidden; } @media (min-width: 768px) { #threejs-container { height: 350px; max-width: 600px;} } @media (min-width: 1024px) { #threejs-container { height: 400px; } } #threejs-container canvas { display: block; width: 100% !important; height: 100% !important; } #threejs-container:active { cursor: grabbing; }

        /* --- ADDED CSS FOR MOBILE SCROLL FIX --- */
        @media (max-width: 767px) { /* Applies below the 'md' breakpoint (768px) */
            #threejs-container canvas {
                pointer-events: none; /* Allows touch events to 'pass through' the canvas for scrolling */
            }
        }
        /* --- END ADDED CSS --- */

        .expertise-container { border-radius: 12px; padding: 1rem; } @media(min-width: 768px) { .expertise-container { padding: 2rem; } } .expertise-item { text-align: center; padding: 1.5rem; position: relative; } @media (min-width: 768px) { .expertise-item:not(:last-child)::after { content: ''; position: absolute; top: 15%; bottom: 15%; right: 0; width: 1px; background-color: var(--border-color); opacity: 0.7; transition: background-color 0.4s ease;} } .expertise-icon { font-size: 2.5rem; color: var(--color-accent); margin-bottom: 1.5rem; display: inline-block; } .expertise-item h3 { font-weight: 700; margin-bottom: 0.75rem; font-size: 1.25rem; } .expertise-item p { font-size: 0.9rem; line-height: 1.6; } @media (min-width: 768px) { .expertise-item p { font-size: 0.95rem; } }
        #stats { transition: background-color 0.4s ease; } #stats .stat-item { text-align: center; padding: 1rem; display: flex; flex-direction: column; align-items: center; } #stats .stat-icon { font-size: 2.5rem; color: var(--color-accent); margin-bottom: 1rem; } #stats .stat-number-container { display: inline-block; } #stats .stat-number { font-size: 2.5rem; font-weight: 700; color: var(--text-primary); display: inline; transition: color 0.4s ease;} @media (min-width: 768px) { #stats .stat-number { font-size: 3rem; } } #stats .stat-suffix { font-size: 2rem; font-weight: 700; color: var(--text-primary); display: inline; margin-left: 2px; transition: color 0.4s ease;} @media (min-width: 768px) { #stats .stat-suffix { font-size: 2.5rem; } } #stats .stat-label { font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.5rem; transition: color 0.4s ease;} @media (min-width: 768px) { #stats .stat-label { font-size: 1rem; } }
        .process-container { border-radius: 12px; padding: 1rem; } @media(min-width: 768px) { .process-container { padding: 2rem; } } .process-item { text-align: center; padding: 1.5rem; position: relative; } @media (min-width: 768px) { .process-item:not(:last-child)::after { content: ''; position: absolute; top: 20%; bottom: 20%; right: 0; width: 1px; background-color: var(--border-color); opacity: 0.6; transition: background-color 0.4s ease;} } .process-icon { font-size: 2.5rem; color: var(--color-accent); margin-bottom: 1rem; display: block; margin-left: auto; margin-right: auto; } .process-item h4 { font-weight: 700; margin-bottom: 0.5rem; font-size: 1.1rem; } @media (min-width: 768px) { .process-item h4 { font-size: 1.15rem; } } .process-item p { font-size: 0.875rem; line-height: 1.6;} @media (min-width: 768px) { .process-item p { font-size: 0.9rem; } }
        .portfolio-item { border-radius: 12px; overflow: hidden; position: relative; transition: transform 0.3s ease, box-shadow 0.3s ease; background: var(--bg-glass); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid var(--border-glass); } .portfolio-item:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); } .dark .portfolio-item:hover { box-shadow: 0 10px 20px rgba(57, 255, 20, 0.15); } .portfolio-item img { display: block; width: 100%; height: 200px; object-fit: cover; } .portfolio-item-content { padding: 1.5rem; } .portfolio-item-content h4 { font-weight: 700; margin-bottom: 0.5rem; font-size: 1.1rem; } .portfolio-item-content p { font-size: 0.9rem; margin-bottom: 1rem; } .portfolio-item-content .details-button { font-size: 0.9rem; font-weight: 600; text-decoration: none; cursor: pointer; color: var(--text-primary); } .portfolio-item-content .details-button:hover { color: var(--color-accent); } .portfolio-item-content .details-button i { margin-left: 0.25rem; }
        .testimonial-slider-container { position: relative; padding: 0 1rem; /* More padding on mobile for arrows */ } @media (min-width: 640px) { .testimonial-slider-container { padding: 0 50px; } } .testimonial-slider-wrapper { overflow: hidden; margin: 0; } .testimonial-slider { display: flex; } .testimonial-slide-item { flex-shrink: 0; width: 100%; padding: 0 0.5rem; /* Smaller gap */ box-sizing: border-box; } @media (min-width: 768px) { .testimonial-slide-item { width: 50%; } } @media (min-width: 1024px) { .testimonial-slide-item { width: 33.3333%; } } .testimonial-card-redesigned { height: 100%; border-radius: 12px; padding: 2rem; position: relative; display: flex; flex-direction: column; align-items: center; text-align: center; background: var(--bg-glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--border-glass); transition: background-color 0.4s ease, border-color 0.4s ease; } .testimonial-client-img { width: 70px; height: 70px; /* Slightly smaller */ border-radius: 50%; object-fit: cover; margin-bottom: 1.5rem; border: 2px solid var(--color-accent); box-shadow: 0 4px 10px rgba(0,0,0,0.1); } .testimonial-card-redesigned blockquote { font-style: italic; margin-bottom: 1.5rem; position: relative; font-size: 1rem; line-height: 1.6; color: var(--text-primary); flex-grow: 1; max-width: 90%; } @media (min-width: 768px) { .testimonial-card-redesigned blockquote { font-size: 1.1rem; } } .testimonial-card-redesigned blockquote::before, .testimonial-card-redesigned blockquote::after { content: '"'; font-size: 2.5rem; color: var(--color-accent); opacity: 0.7; position: absolute; line-height: 0; } .testimonial-card-redesigned blockquote::before { top: -0.2em; left: -0.3em; } .testimonial-card-redesigned blockquote::after { bottom: -0.2em; right: -0.3em; } .testimonial-card-redesigned cite { font-weight: 600; font-style: normal; color: var(--text-primary); display: block; margin-top: auto; font-size: 0.9rem; }
        .slider-arrow { position: absolute; top: 50%; transform: translateY(-50%); background-color: var(--color-accent); color: var(--color-dark); border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.1rem; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease; z-index: 10; } .slider-arrow:hover { background-color: var(--color-accent-hover); transform: translateY(-50%) scale(1.1); } .slider-arrow:disabled { opacity: 0.3; cursor: not-allowed; transform: translateY(-50%); } .slider-arrow.left { left: 0; } .slider-arrow.right { right: 0; } @media (min-width: 640px) { .slider-arrow.left { left: 5px; } .slider-arrow.right { right: 5px; } }
        .pricing-card-alt { border-radius: 12px; padding: 2.5rem; transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.4s ease, border-color 0.4s ease; display: flex; flex-direction: column; height: 100%; background: var(--bg-glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--border-glass); } .pricing-card-alt.popular { border-color: var(--color-accent); transform: scale(1.03); position: relative; z-index: 5; } .pricing-card-alt:hover:not(.popular) { transform: translateY(-8px); border-color: var(--color-accent); box-shadow: 0 15px 25px rgba(0,0,0,0.07); } .dark .pricing-card-alt:hover:not(.popular) { box-shadow: 0 15px 25px rgba(57, 255, 20, 0.1); } .pricing-card-alt h3 { font-weight: 700; margin-bottom: 0.5rem; color: var(--text-primary); } .pricing-card-alt .price { font-size: 2.5rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.25rem; } .pricing-card-alt .price-term { color: var(--text-secondary); margin-bottom: 1.5rem; } .pricing-card-alt ul { flex-grow: 1; margin-bottom: 2rem; } .pricing-card-alt ul li { margin-bottom: 0.75rem; color: var(--text-secondary); display: flex; align-items: flex-start; } .pricing-card-alt ul li i { color: var(--color-accent); margin-right: 0.75rem; margin-top: 4px; font-size: 0.9em; } .pricing-card-alt .neon-button { margin-top: auto; } .popular-badge-alt { background-color: var(--color-accent); color: var(--color-dark); padding: 0.25rem 0.75rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; display: inline-block; margin-bottom: 1rem; }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--modal-backdrop); display: flex; align-items: center; justify-content: center; z-index: 2000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.4s ease; padding: 1rem; } .modal.active { opacity: 1; visibility: visible; } .modal-content { background: var(--bg-glass); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid var(--border-glass); padding: 2rem; border-radius: 12px; max-width: 800px; width: 95%; max-height: 90vh; overflow-y: auto; position: relative; transform: scale(0.95); transition: transform 0.3s ease, background-color 0.4s ease, border-color 0.4s ease; } .modal.active .modal-content { transform: scale(1); } .modal-close-button { position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; color: var(--text-primary); cursor: pointer; transition: color 0.3s ease, transform 0.2s ease; } .modal-close-button:hover { color: var(--color-accent); transform: rotate(90deg); } .modal-content h3 { font-size: 1.75rem; margin-bottom: 1rem; } .modal-content img.modal-image { max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 1rem; }
        .contact-container { border-radius: 12px; padding: 2rem; transition: background-color 0.4s ease, border-color 0.4s ease; background: var(--bg-glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--border-glass); } @media (min-width: 768px) { .contact-container { padding: 3rem; } } .contact-form-alt label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-primary); font-size: 0.9rem; } .contact-form-alt input, .contact-form-alt textarea { background-color: var(--card-bg); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: 8px; padding: 12px 16px; transition: border-color 0.3s, background-color 0.4s ease, color 0.4s ease; width: 100%; } .contact-form-alt input::placeholder, .contact-form-alt textarea::placeholder { color: var(--text-secondary); opacity: 0.8; } .contact-form-alt input:focus, .contact-form-alt textarea:focus { border-color: var(--color-accent); background-color: var(--bg-primary); box-shadow: none; outline: none; } .contact-info h4 { font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-primary); } .contact-info p { color: var(--text-secondary); line-height: 1.6; }
        #main-footer { background: var(--bg-glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-top: 1px solid var(--border-glass); color: var(--text-secondary); font-size: 0.9rem; transition: background-color 0.4s ease, border-color 0.4s ease; }
        #floating-buttons { position: fixed; bottom: 1.25rem; right: 1.25rem; display: flex; flex-direction: column; align-items: center; gap: 12px; z-index: 999; } .floating-button { width: 48px; height: 48px; border-radius: 9999px; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 8px rgba(0,0,0,0.2); transition: opacity 0.3s, visibility 0.3s, transform 0.3s, background-color 0.3s, box-shadow 0.3s, color 0.3s; background-color: var(--color-accent); color: var(--color-dark); font-size: 1.25rem; cursor: pointer; } .floating-button i { color: inherit; } .floating-button:hover { background-color: var(--color-accent-hover); transform: scale(1.1); box-shadow: 0 0 8px var(--color-accent), 0 0 12px var(--color-accent); color: var(--color-dark); } #back-to-top-btn { opacity: 0; visibility: hidden; } #back-to-top-btn.visible { opacity: 1; visibility: visible; }
        .animate-on-scroll { opacity: 0; transform: translateY(40px); transition: opacity 0.7s ease-out, transform 0.7s ease-out; } .animate-on-scroll.visible { opacity: 1; transform: translateY(0); } .delay-1 { transition-delay: 0.15s; } .delay-2 { transition-delay: 0.3s; } .delay-3 { transition-delay: 0.45s; }
        ::-webkit-scrollbar { width: 10px; } ::-webkit-scrollbar-track { background: transparent; } ::-webkit-scrollbar-thumb { background-color: var(--color-accent); border-radius: 10px; border: 2px solid var(--bg-primary); transition: background-color 0.4s ease; } ::-webkit-scrollbar-thumb:hover { background-color: var(--color-accent-hover); } html { scrollbar-width: thin; scrollbar-color: var(--color-accent) transparent; }
        tailwind.config = { darkMode: 'class', theme: { extend: { colors: { 'neon-green': 'var(--color-accent)', 'light': 'var(--color-light)', 'dark': 'var(--color-dark)', }, fontFamily: { sans: ['Open Sans', 'sans-serif'], heading: ['Poppins', 'sans-serif'], } } } }
    </style>
</head>
<body class="text-base">

     <div id="loading-screen">
         <div class="loader-logo">Scroll<span>Loop</span></div>
         <!-- Removed loader line -->
     </div>
     <!-- Removed Radial Overlay -->

     <header id="main-header" class="fixed top-0 left-0 right-0 glass-effect">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
             <a href="#" class="text-3xl font-heading font-bold text-primary">Scroll<span style="color: var(--color-accent);">Loop</span></a>
             <!-- Desktop Nav Links -->
             <div class="hidden md:flex space-x-8 items-center"> <a href="#expertise" class="nav-link font-medium">Expertise</a> <a href="#stats" class="nav-link font-medium">Stats</a> <a href="#process" class="nav-link font-medium">Process</a> <a href="#portfolio" class="nav-link font-medium">Portfolio</a> <a href="#testimonials" class="nav-link font-medium">Testimonials</a> <a href="#pricing" class="nav-link font-medium">Pricing</a> <a href="#contact" class="nav-link font-medium">Contact</a> <button id="theme-toggle-desktop" class="ml-4 text-primary hover:text-neon-green transition-colors"><i class="fas fa-sun text-xl theme-icon-light hidden"></i><i class="fas fa-moon text-xl theme-icon-dark"></i></button> </div>
             <!-- Mobile Buttons -->
             <div class="md:hidden flex items-center"> <button id="theme-toggle-mobile" class="text-primary hover:text-neon-green mr-4 transition-colors"><i class="fas fa-sun text-xl theme-icon-light hidden"></i><i class="fas fa-moon text-xl theme-icon-dark"></i></button>
                <button id="mobile-menu-button" class="text-primary focus:outline-none hidden"> <!-- Hamburger Permanently Hidden --> <i class="fas fa-bars text-2xl"></i> </button>
             </div>
         </nav>
         <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="fixed top-0 right-0 bottom-0 w-64 h-screen pt-20 px-6 shadow-lg md:hidden"> <!-- Glass effect applied directly -->
            <a href="#expertise" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Expertise</a> <a href="#stats" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Stats</a> <a href="#process" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Process</a> <a href="#portfolio" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Portfolio</a> <a href="#testimonials" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Testimonials</a> <a href="#pricing" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Pricing</a> <a href="#contact" class="block py-3 px-4 hover:text-neon-green mobile-nav-link font-medium">Contact</a>
        </div>
     </header>

     <main>
        <section id="hero" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 items-center"> <div class="text-center md:text-left"> <h1 class="text-4xl sm:text-5xl md:text-6xl xl:text-7xl font-heading mb-6 animate-on-scroll"> Your Vision, <span style="color: var(--color-accent);">Amplified</span> Online. </h1> <p class="text-base sm:text-lg lg:text-xl mb-10 animate-on-scroll delay-1"> We design cutting-edge websites and automate complex workflows, freeing you to focus on growth. Welcome to Scroll Loop. </p> <a href="#contact" class="neon-button animate-on-scroll delay-2"> Discuss Your Project <i class="fas fa-arrow-right ml-2"></i> </a> </div> <div class="flex justify-center items-center animate-on-scroll delay-1"> <div id="threejs-container"></div> </div> </div> </div> </section>
        <section id="expertise" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Our <span style="color: var(--color-accent);">Expertise</span></h2> <p class="text-lg animate-on-scroll delay-1">From web development to AI automation, we cover your digital needs.</p> </div> <div class="expertise-container glass-effect max-w-5xl mx-auto"> <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-0"> <div class="expertise-item animate-on-scroll"> <i class="fas fa-code expertise-icon"></i> <h3>Web Development</h3> <p>Building responsive, scalable websites and applications tailored to your specific business requirements.</p> </div> <div class="expertise-item animate-on-scroll delay-1"> <i class="fas fa-robot expertise-icon"></i> <h3>AI Workflow Automation</h3> <p>Integrating AI solutions to automate repetitive tasks, streamline processes, and boost your team's productivity.</p> </div> <div class="expertise-item animate-on-scroll delay-2"> <i class="fas fa-pencil-ruler expertise-icon"></i> <h3>UI/UX Design</h3> <p>Creating intuitive, user-centric designs that enhance engagement and provide seamless digital experiences.</p> </div> </div> </div> </div> </section>
        <section id="stats" class="section-padding section-divider glass-effect"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Proven <span style="color: var(--color-accent);">Track Record</span></h2> <p class="text-lg animate-on-scroll delay-1">Quantifiable results demonstrating our commitment and success.</p> </div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8"> <div class="stat-item animate-on-scroll"> <i class="fas fa-laptop-code stat-icon"></i> <span class="stat-number-container"> <span id="stat-projects" class="stat-number">0</span> </span> <span class="stat-label">Projects Completed</span> </div> <div class="stat-item animate-on-scroll delay-1"> <i class="fas fa-users stat-icon"></i> <span class="stat-number-container"> <span id="stat-clients" class="stat-number">0</span> </span> <span class="stat-label">Happy Clients</span> </div> <div class="stat-item animate-on-scroll delay-2"> <i class="fas fa-calendar-alt stat-icon"></i> <span class="stat-number-container"> <span id="stat-experience" class="stat-number">0</span> </span> <span class="stat-label">Years of Experience</span> </div> <div class="stat-item animate-on-scroll delay-3"> <i class="fas fa-thumbs-up stat-icon"></i> <span class="stat-number-container"> <span id="stat-satisfaction" class="stat-number">0</span><span class="stat-suffix">%</span> </span> <span class="stat-label">Client Satisfaction</span> </div> </div> </div> </section>
        <section id="process" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Our <span style="color: var(--color-accent);">Collaborative</span> Process</h2> <p class="text-lg animate-on-scroll delay-1">A transparent and structured approach to bring your digital vision to life.</p> </div> <div class="process-container glass-effect max-w-6xl mx-auto"> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 md:gap-0"> <div class="process-item animate-on-scroll"> <i class="fas fa-search process-icon"></i> <h4>1. Discovery & Strategy</h4> <p>We delve deep into your goals, audience, and market landscape to define a clear roadmap.</p> </div> <div class="process-item animate-on-scroll delay-1"> <i class="fas fa-drafting-compass process-icon"></i> <h4>2. Design & Prototyping</h4> <p>Crafting intuitive interfaces and engaging visuals, iterating collaboratively on feedback.</p> </div> <div class="process-item animate-on-scroll delay-2"> <i class="fas fa-cogs process-icon"></i> <h4>3. Development & Automation</h4> <p>Building clean code and configuring robust, intelligent automation workflows.</p> </div> <div class="process-item animate-on-scroll delay-3"> <i class="fas fa-rocket process-icon"></i> <h4>4. Testing & Launch</h4> <p>Rigorous cross-device testing ensures quality before a smooth deployment and handover.</p> </div> </div> </div> </div> </section>
        <section id="portfolio" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Our Recent <span style="color: var(--color-accent);">Work</span></h2> <p class="text-lg animate-on-scroll delay-1">Explore some of the solutions we've crafted for our clients.</p> </div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"> <div class="portfolio-item animate-on-scroll"> <img loading="lazy" src="https://picsum.photos/seed/website/600/400" alt="Project Title 1"> <div class="portfolio-item-content"> <h4>E-commerce Platform Enhancement</h4> <p>Revamped checkout flow and added AI-powered recommendations.</p> <button class="details-button" data-modal-target="modal-project-1"> View Details <i class="fas fa-arrow-right"></i> </button> </div> </div> <div class="portfolio-item animate-on-scroll delay-1"> <img loading="lazy" src="https://picsum.photos/seed/dashboard/600/400" alt="Project Title 2"> <div class="portfolio-item-content"> <h4>Workflow Automation for SaaS</h4> <p>Automated user onboarding and support ticket routing using custom AI.</p> <button class="details-button" data-modal-target="modal-project-2"> View Details <i class="fas fa-arrow-right"></i> </button> </div> </div> <div class="portfolio-item animate-on-scroll delay-2"> <img loading="lazy" src="https://picsum.photos/seed/interface/600/400" alt="Project Title 3"> <div class="portfolio-item-content"> <h4>Marketing Website Redesign</h4> <p>Modern UI/UX overhaul focusing on performance and lead generation.</p> <button class="details-button" data-modal-target="modal-project-3"> View Details <i class="fas fa-arrow-right"></i> </button> </div> </div> </div> </div> </section>
        <section id="testimonials" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-12"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Client <span style="color: var(--color-accent);">Experiences</span></h2> <p class="text-lg animate-on-scroll delay-1">Hear directly from businesses we've helped transform.</p> </div> <div class="testimonial-slider-container max-w-6xl mx-auto"> <div class="testimonial-slider-wrapper"> <div id="testimonial-slider" class="testimonial-slider"> <!-- Populated by JS --> </div> </div> <button id="prev-testimonial" class="slider-arrow left" aria-label="Previous Testimonial"><i class="fas fa-chevron-left"></i></button> <button id="next-testimonial" class="slider-arrow right" aria-label="Next Testimonial"><i class="fas fa-chevron-right"></i></button> </div> </div> </section>
        <section id="pricing" class="section-padding section-divider"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Investment <span style="color: var(--color-accent);">Options</span></h2> <p class="text-lg animate-on-scroll delay-1">Clear, value-driven pricing plans designed for businesses of all sizes.</p> </div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-stretch"> <div class="animate-on-scroll"><div class="pricing-card-alt"><h3 class="text-2xl">Foundation</h3><div class="price">$XXX</div><div class="price-term">One-time Investment</div><ul><li><i class="fas fa-check"></i> Custom Landing Page</li><li><i class="fas fa-check"></i> Responsive Design</li><li><i class="fas fa-check"></i> Core SEO Setup</li><li><i class="fas fa-times opacity-50"></i> Basic Workflow Automation</li><li><i class="fas fa-times opacity-50"></i> CMS Integration</li></ul><a href="#contact" class="neon-button w-full text-center">Choose Foundation</a></div></div> <div class="animate-on-scroll delay-1"><div class="pricing-card-alt popular"><span class="popular-badge-alt">Most Popular</span><h3 class="text-2xl">Growth Engine</h3><div class="price">$XXXX</div><div class="price-term">One-time Investment</div><ul><li><i class="fas fa-check"></i> Multi-Page Website (5 Pages)</li><li><i class="fas fa-check"></i> Responsive Design</li><li><i class="fas fa-check"></i> Enhanced SEO Strategy</li><li><i class="fas fa-check"></i> Basic Workflow Automation (1 Flow)</li><li><i class="fas fa-check"></i> CMS Integration (e.g., WordPress)</li></ul><a href="#contact" class="neon-button w-full text-center">Choose Growth</a></div></div> <div class="animate-on-scroll delay-2"><div class="pricing-card-alt"><h3 class="text-2xl">Scale & Automate</h3><div class="price">Custom</div><div class="price-term">Tailored Proposal</div><ul><li><i class="fas fa-check"></i> Complex Websites / Web Apps</li><li><i class="fas fa-check"></i> Fully Custom Design</li><li><i class="fas fa-check"></i> Advanced Automation & Integrations</li><li><i class="fas fa-check"></i> API Development</li><li><i class="fas fa-check"></i> Dedicated Support Plan</li></ul><a href="#contact" class="neon-button w-full text-center">Discuss Custom</a></div></div> </div> </div> </section>
        <section id="contact" class="section-padding"> <div class="container mx-auto px-6"> <div class="text-center max-w-2xl mx-auto mb-16"> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold font-heading mb-4 animate-on-scroll">Let's <span style="color: var(--color-accent);">Connect</span> & Build</h2> <p class="text-lg animate-on-scroll delay-1">Use the form for inquiries or reach out directly. We're excited to hear about your project!</p> </div> <div class="contact-container max-w-5xl mx-auto animate-on-scroll"> <div class="grid grid-cols-1 md:grid-cols-5 gap-8 md:gap-12"> <div class="md:col-span-3"> <h3 class="text-2xl font-bold font-heading mb-6 text-primary">Send Us a Message</h3> <form action="https://formspree.io/f/xqapgrkl" method="POST" class="space-y-5 contact-form-alt"> <div> <label for="name_contact">Name</label> <input type="text" name="name" id="name_contact" required placeholder="Your Full Name"> </div> <div> <label for="email_contact">Email</label> <input type="email" name="email" id="email_contact" required placeholder="your.email@example.com"> </div> <div> <label for="message_contact">Your Message</label> <textarea name="message" id="message_contact" rows="5" required placeholder="Describe your project needs or question..."></textarea> </div> <div> <button type="submit" class="neon-button w-full sm:w-auto"> Submit Inquiry <i class="fas fa-paper-plane ml-2"></i> </button> </div> </form> </div> <div class="md:col-span-2 mt-8 md:mt-0 contact-info"> <h4 class="text-2xl font-bold font-heading mb-6 text-primary">Get in Touch Directly</h4> <p class="mb-6">Prefer direct contact? Reach out via email or WhatsApp:</p> <div class="space-y-4"> <p> <a href="mailto:scrollloop.com@gmail.com" class="contact-info-link inline-flex items-center group text-lg font-medium"> <i class="fas fa-envelope mr-3"></i> <span>scrollloop.com@gmail.com</span> </a> </p> <p> <a href="https://wa.me/94767305921" target="_blank" rel="noopener noreferrer" class="contact-info-link inline-flex items-center group text-lg font-medium"> <i class="fab fa-whatsapp mr-3"></i> <span>+94 76 730 5921</span> </a> </p> </div> <p class="text-sm mt-8"> We aim to respond to all inquiries within one business day. We look forward to collaborating! </p> </div> </div> </div> </div> </section>
     </main>
     <footer id="main-footer" class="py-6 mt-16 glass-effect"> <div class="container mx-auto px-6 text-center"> © 2025 ScrollLoop. All Rights Reserved. </div> </footer>
     <div id="floating-buttons"> <a href="https://wa.me/94767305921" class="floating-button" target="_blank" rel="noopener noreferrer" title="Chat on WhatsApp"><i class="fab fa-whatsapp"></i></a> <a href="#" id="back-to-top-btn" class="floating-button" title="Back to Top"><i class="fas fa-arrow-up"></i></a> </div>

     <!-- Portfolio Modals -->
      <div id="modal-project-1" class="modal"> <div class="modal-content glass-effect"> <button class="modal-close-button" aria-label="Close modal">×</button> <h3>E-commerce Platform Enhancement</h3> <img loading="lazy" src="https://picsum.photos/seed/website_modal/800/500" alt="E-commerce Checkout Flow" class="modal-image"> <p><strong>Challenge:</strong> High cart abandonment rate and low average order value due to a clunky checkout process and lack of personalized recommendations.</p> <p><strong>Solution:</strong> We re-engineered the checkout into a streamlined, multi-step flow, reducing friction. A custom recommendation engine was built, analyzing user browsing/purchase history to suggest relevant items dynamically. We also integrated Stripe and PayPal for diverse payment options and optimized image loading and server response times.</p> <p><strong>Results:</strong> Achieved a 15% decrease in cart abandonment and a 10% lift in average order value within the first quarter post-launch. Customer feedback highlighted the improved speed and ease of use.</p> <p><strong>Technologies:</strong> React, Node.js, Express, PostgreSQL, Stripe API, PayPal API, Python (AI Model), AWS (EC2, S3)</p> </div> </div>
     <div id="modal-project-2" class="modal"> <div class="modal-content glass-effect"> <button class="modal-close-button" aria-label="Close modal">×</button> <h3>Workflow Automation for SaaS</h3> <img loading="lazy" src="https://picsum.photos/seed/dashboard_modal/800/500" alt="SaaS Workflow Automation Diagram" class="modal-image"> <p><strong>Challenge:</strong> The client's support and onboarding teams were overwhelmed with repetitive manual tasks as their user base grew, impacting response times and user activation.</p> <p><strong>Solution:</strong> Developed an AI-powered system using NLP to automatically categorize incoming support tickets and route them to the correct department via their existing helpdesk API. Created automated email sequences triggered by user actions (or lack thereof) within the platform to guide new users. Integrated CRM data with their billing platform for automated invoice generation based on subscription levels.</p> <p><strong>Results:</strong> Reduced average first-response time for support tickets by 30%. Increased the 7-day activation rate for new users by 18%. Eliminated over 20 hours of manual administrative work per week.</p> <p><strong>Technologies:</strong> Python (Flask), OpenAI API, Zapier, HubSpot API, Chargebee API, Celery (Task Queue)</p> </div> </div>
     <div id="modal-project-3" class="modal"> <div class="modal-content glass-effect"> <button class="modal-close-button" aria-label="Close modal">×</button> <h3>Marketing Website Redesign</h3> <img loading="lazy" src="https://picsum.photos/seed/interface_modal/800/500" alt="Modern Website Interface" class="modal-image"> <p><strong>Challenge:</strong> An outdated website design resulted in poor mobile experience, low conversion rates, and difficulty for the marketing team to update content quickly.</p> <p><strong>Solution:</strong> Conducted user research and competitor analysis to inform a full UI/UX redesign. Built a new frontend using a modern Jamstack approach for optimal performance and scalability. Integrated a headless CMS (Contentful) allowing non-technical staff to easily manage blogs, case studies, and landing pages. Implemented on-page SEO best practices and ensured WCAG AA accessibility compliance.</p> <p><strong>Results:</strong> Organic search traffic increased by 25% within 6 months. Lead generation form submissions increased by 40%. Website achieved Google PageSpeed scores consistently above 90 on both mobile and desktop. Positive feedback on improved brand image and usability.</p> <p><strong>Technologies:</strong> Next.js, Tailwind CSS, Contentful CMS, GraphQL, Vercel</p> </div> </div>


    <!-- JS: Main App, Three.js, Counters, Slider, Modals -->
    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { CubeTextureLoader } from 'three';

        // --- Custom Infinity Curve ---
        class InfinityCurve extends THREE.Curve {
            constructor(scale = 1) {
                super();
                this.scale = scale;
            }
            getPoint(t, optionalTarget = new THREE.Vector3()) {
                const point = optionalTarget; const angle = t * 2 * Math.PI; const a = this.scale;
                const sinAngle = Math.sin(angle); const cosAngle = Math.cos(angle); const sinSq = sinAngle * sinAngle;
                const x = a * Math.sqrt(2) * cosAngle / (sinSq + 1); const y = 0;
                const z = a * Math.sqrt(2) * cosAngle * sinAngle / (sinSq + 1);
                return point.set(x, y, z);
            }
        }

        // --- Global Scope Variables ---
        let scene, camera, renderer, infinityMesh, controls, clock;
        const shaderUniforms = { uTime: { value: 0.0 }, uFrequency: { value: new THREE.Vector2(0.8, 0.5) }, uAmplitude: { value: 0.4 }, uSpeed: { value: 0.7 } };
        const infinityMaterial = new THREE.MeshStandardMaterial({ metalness: 0.6, roughness: 0.2, envMapIntensity: 0.9, side: THREE.DoubleSide });
        let envMapLoaded = false;

        // --- Global Theme Function ---
        function updateThreeJSTheme() {
            const accentColorHex = getComputedStyle(document.documentElement).getPropertyValue('--color-accent').trim();
            const color = accentColorHex || '#39ff14';
            if (infinityMaterial) { infinityMaterial.color.setStyle(color); }
        }

        // --- DOMContentLoaded ---
        document.addEventListener('DOMContentLoaded', () => {
            const htmlElement=document.documentElement;const themeToggleButtons=document.querySelectorAll('#theme-toggle-desktop, #theme-toggle-mobile');const themeIconsLight=document.querySelectorAll('.theme-icon-light');const themeIconsDark=document.querySelectorAll('.theme-icon-dark');const backToTopButton=document.getElementById('back-to-top-btn');const mobileMenuButton=document.getElementById('mobile-menu-button');const mobileMenu=document.getElementById('mobile-menu');const mobileNavLinks=document.querySelectorAll('.mobile-nav-link');const header=document.getElementById('main-header');const animatedElements=document.querySelectorAll('.animate-on-scroll');const sections=document.querySelectorAll('main section[id]');const navLinks=document.querySelectorAll('header nav a[href^="#"]'); const body = document.body;

             // --- Color Morph Theme Transition ---
             const applyTheme = (theme, event = null) => { const oldTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light'; if (theme === oldTheme && body.classList.contains('theme-set')) return; htmlElement.classList.remove(oldTheme); htmlElement.classList.add(theme); themeIconsLight.forEach(icon => icon.classList.toggle('hidden', theme === 'dark')); themeIconsDark.forEach(icon => icon.classList.toggle('hidden', theme === 'light')); localStorage.setItem('theme', theme); updateThreeJSTheme(); body.classList.add('theme-set'); };
             const toggleTheme=(event)=>{const currentTheme=htmlElement.classList.contains('dark')?'dark':'light';applyTheme(currentTheme==='dark'?'light':'dark', event);};
             const initialTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light'; localStorage.setItem('theme', initialTheme); themeIconsLight.forEach(icon => icon.classList.toggle('hidden', initialTheme === 'dark')); themeIconsDark.forEach(icon => icon.classList.toggle('hidden', initialTheme === 'light')); updateThreeJSTheme();
             themeToggleButtons.forEach(button => { button.addEventListener('click', toggleTheme); });

            // --- Mobile menu interaction (Still inactive as button is hidden) ---
            document.addEventListener('click',(event)=>{ if(mobileMenu && mobileMenu.classList.contains('active') && !mobileMenu.contains(event.target) && mobileMenuButton && !mobileMenuButton.contains(event.target)){ mobileMenu.classList.remove('active'); } });

             // --- Scroll, Observer, Nav Highlight ---
            const handleScroll=()=>{backToTopButton.classList.toggle('visible',window.scrollY>400);activateNavLinkOnScroll();};window.addEventListener('scroll',handleScroll);
            const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{entry.target.classList.toggle('visible',entry.isIntersecting);});},{threshold:0.15});animatedElements.forEach(el=>observer.observe(el));
            function activateNavLinkOnScroll(){let currentSectionId='';const headerHeight=header?header.offsetHeight:80;const scrollPosition=window.scrollY+headerHeight+100;sections.forEach(section=>{if(scrollPosition>=section.offsetTop){currentSectionId=section.getAttribute('id');}});navLinks.forEach(link=>{const linkHref=link.getAttribute('href');link.classList.toggle('active',linkHref===`#${currentSectionId}`);});}activateNavLinkOnScroll();

            // --- Stats Counter ---
            const statsSection=document.getElementById('stats'); if(statsSection){const statsAnimated=new Set();const statsObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const statItem=entry.target;const numberEl=statItem.querySelector('.stat-number');const targetId=numberEl.id;if(!statsAnimated.has(targetId)){let targetValue=0;if(targetId==='stat-projects')targetValue=150;if(targetId==='stat-clients')targetValue=85;if(targetId==='stat-experience')targetValue=5;if(targetId==='stat-satisfaction')targetValue=98;animateCounter(numberEl,targetValue,2000);statsAnimated.add(targetId);}}});},{threshold:0.5});document.querySelectorAll('#stats .stat-item').forEach(item=>{statsObserver.observe(item);});} function animateCounter(element,target,duration){let start=0;const increment=target/(duration/16);let current=0;const updateCounter=()=>{current+=increment;if(current>=target){element.textContent=target.toLocaleString();}else{element.textContent=Math.ceil(current).toLocaleString();requestAnimationFrame(updateCounter);}};requestAnimationFrame(updateCounter);}

            // --- Infinite Testimonial Slider ---
            const sliderContainer = document.querySelector('.testimonial-slider-container');
             if(sliderContainer) {
                 const slider = document.getElementById('testimonial-slider'); const prevBtn = document.getElementById('prev-testimonial'); const nextBtn = document.getElementById('next-testimonial'); let originalItems = []; let totalOriginalItems = 0; let itemsPerView = 1; let itemWidth = 0; let currentIndex = 0; let isTransitioning = false; let resizeTimeout;
                 const testimonialsData = [ { imgSeed: "portrait_woman1", quote: "The new website is not just beautiful...", cite: "Sarah K., Marketing Director" }, { imgSeed: "face_man_tech", quote: "Automating our invoicing process...", cite: "Mike P., Operations Lead" }, { imgSeed: "person_founder", quote: "From concept to launch...", cite: "David R., Startup Founder" }, { imgSeed: "portrait_professional", quote: "The AI automation increased output...", cite: "Emily B., Tech Manager" }, { imgSeed: "headshot_user", quote: "User engagement metrics shot up...", cite: "Alex T., Product Owner" }, { imgSeed: "face_business_owner", quote: "Reliable, creative, and proficient...", cite: "Chloe J., Business Owner" }, { imgSeed: "man_smiling", quote: "Their attention to detail was impressive...", cite: "Ben C., Creative Director"}, { imgSeed: "woman_corporate", quote: "The workflow automation transformed how we operate.", cite: "Olivia M., CEO"}, { imgSeed: "person_casual", quote: "Fast turnaround and excellent support.", cite: "Noah S., Project Manager"} ];
                 function calculateItemsPerView() { if (window.innerWidth < 768) return 1; if (window.innerWidth < 1024) return 2; return 3; }
                 function populateAndSetupSlider() { if (!slider) return; isTransitioning = true; slider.style.transition = 'none'; slider.innerHTML = ''; testimonialsData.forEach(data => { const slideItem = document.createElement('div'); slideItem.className = 'testimonial-slide-item'; slideItem.innerHTML = `<div class="testimonial-card-redesigned"><img loading="lazy" src="https://picsum.photos/seed/${data.imgSeed}/100/100" alt="${data.cite.split(',')[0]}" class="testimonial-client-img"><blockquote>${data.quote}</blockquote><cite>– ${data.cite}</cite></div>`; slider.appendChild(slideItem); }); originalItems = Array.from(slider.children); totalOriginalItems = originalItems.length; itemsPerView = calculateItemsPerView(); if (totalOriginalItems > itemsPerView) { for (let i = 0; i < itemsPerView; i++) { const indexToClone = (totalOriginalItems - itemsPerView + i + totalOriginalItems) % totalOriginalItems; const clone = originalItems[indexToClone].cloneNode(true); clone.classList.add('clone', 'prepended-clone'); slider.insertBefore(clone, slider.firstChild); } for (let i = 0; i < itemsPerView; i++) { const clone = originalItems[i % totalOriginalItems].cloneNode(true); clone.classList.add('clone', 'appended-clone'); slider.appendChild(clone); } prevBtn.style.display = 'block'; nextBtn.style.display = 'block'; } else { prevBtn.style.display = 'none'; nextBtn.style.display = 'none'; } requestAnimationFrame(() => { const firstItem = slider.querySelector('.testimonial-slide-item'); itemWidth = firstItem ? firstItem.offsetWidth : (slider.parentElement.offsetWidth / itemsPerView); currentIndex = totalOriginalItems > itemsPerView ? itemsPerView : 0; slider.style.transform = `translateX(-${currentIndex * itemWidth}px)`; setTimeout(() => { slider.style.transition = 'transform 0.5s ease-in-out'; isTransitioning = false; }, 50); }); }
                 function slide(direction) { if (isTransitioning || totalOriginalItems <= itemsPerView) return; isTransitioning = true; currentIndex += direction; slider.style.transition = 'transform 0.5s ease-in-out'; slider.style.transform = `translateX(-${currentIndex * itemWidth}px)`; }
                 slider.addEventListener('transitionend', () => { if (!isTransitioning) return; const jumpNeeded = currentIndex < itemsPerView || currentIndex >= totalOriginalItems + itemsPerView; if (jumpNeeded) { slider.style.transition = 'none'; currentIndex = (currentIndex < itemsPerView) ? (currentIndex + totalOriginalItems) : (currentIndex - totalOriginalItems); slider.style.transform = `translateX(-${currentIndex * itemWidth}px)`; slider.offsetHeight; } setTimeout(() => { slider.style.transition = 'transform 0.5s ease-in-out'; isTransitioning = false; }, 0); });
                 prevBtn.addEventListener('click', () => slide(-1)); nextBtn.addEventListener('click', () => slide(1)); window.addEventListener('resize', () => { clearTimeout(resizeTimeout); resizeTimeout = setTimeout(populateAndSetupSlider, 250); }); populateAndSetupSlider();
             }

            // --- Portfolio Modals ---
            const openModalButtons=document.querySelectorAll('[data-modal-target]'); const closeModalButtons=document.querySelectorAll('.modal-close-button'); const modals=document.querySelectorAll('.modal'); openModalButtons.forEach(button=>{button.addEventListener('click',()=>{const modalId=button.getAttribute('data-modal-target'); const modal=document.getElementById(modalId); if(modal){openModal(modal);}});}); closeModalButtons.forEach(button=>{button.addEventListener('click',()=>{const modal=button.closest('.modal'); if(modal){closeModal(modal);}});}); modals.forEach(modal=>{modal.addEventListener('click',(event)=>{if(event.target===modal){closeModal(modal);}});}); function openModal(modal){modal.classList.add('active'); document.body.style.overflow='hidden';} function closeModal(modal){modal.classList.remove('active'); document.body.style.overflow='';}

            // Initialize Main Three.js Scene
            if (document.getElementById('threejs-container')) { initMainScene(); }

        }); // End DOMContentLoaded

        // --- Window Load ---
        window.onload = () => { const loadingScreen = document.getElementById('loading-screen'); const body = document.body; if (loadingScreen) { loadingScreen.classList.add('loaded'); setTimeout(() => { loadingScreen.remove(); }, 600); } body.classList.add('site-revealed'); };

        // --- Main Hero Three.js Logic (Updated for Mobile Touch Disable) ---
        function initMainScene() {
            const container = document.getElementById('threejs-container');
            if (!container) { return; }

            clock = new THREE.Clock();
            scene = new THREE.Scene();

            camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.set(0, 3, 7);

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.0;
            container.appendChild(renderer.domElement);

            const envMapLoader = new CubeTextureLoader();
            envMapLoader.load([
                './placeholder-env/px.jpg', './placeholder-env/nx.jpg',
                './placeholder-env/py.jpg', './placeholder-env/ny.jpg',
                './placeholder-env/pz.jpg', './placeholder-env/nz.jpg'
                ], (texture) => {
                    scene.environment = texture;
                    envMapLoaded = true;
                }, undefined,
                (err) => { console.error("Could not load env map:", err); }
            );

            updateThreeJSTheme();

            const curveScale = 2.5;
            const tubularSegments = 128;
            const radius = 0.15;
            const radialSegments = 16;
            const closed = true;
            const infinityCurve = new InfinityCurve(curveScale);
            const geometry = new THREE.TubeGeometry(infinityCurve, tubularSegments, radius, radialSegments, closed);
            infinityMesh = new THREE.Mesh(geometry, infinityMaterial);
            scene.add(infinityMesh);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.2);
            directionalLight.position.set(3, 5, 4);
            scene.add(directionalLight);
            const directionalLight2 = new THREE.DirectionalLight(0xaaaaff, 0.4);
            directionalLight2.position.set(-3, -2, -3);
            scene.add(directionalLight2);

            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = false;
            controls.enablePan = false;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.8;
            controls.minPolarAngle = Math.PI / 3;
            controls.maxPolarAngle = 2 * Math.PI / 3;
            controls.target.set(0, 0, 0);

            // Disable controls initially on screens smaller than 768px
            controls.enabled = window.innerWidth >= 768;

            controls.update();

            animateMainScene();
            window.addEventListener('resize', onWindowResize, false);
        }

        function animateMainScene() {
            requestAnimationFrame(animateMainScene);
            const elapsedTime = clock.getElapsedTime();
            shaderUniforms.uTime.value = elapsedTime;
            controls.update(); // Needs to be called even if controls.enabled = false for autoRotate/damping
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            const container = document.getElementById('threejs-container');
            if (camera && renderer && container) {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
             // Update controls enabled state on resize
             if (controls) {
                 controls.enabled = window.innerWidth >= 768;
             }
        }
        // updateThreeJSTheme function is global

    </script>

</body>
</html>